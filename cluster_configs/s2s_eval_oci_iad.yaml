executor: slurm

ssh_tunnel:
  host: draco-oci-login-01.draco-oci-iad.nvidia.com
  # ------------------------------- Fill this up! -------------------------------
  user: ???
  job_dir: /lustre/fsw/portfolios/llmservice/users/???/workspace/code/nemo-run
  identity: ""
  # -----------------------------------------------------------------------------

# if you're running directly from cluster, you only need to define job_dir and shouldn't use ssh_tunnel
# job_dir: <some location on slurm cluster to keep job metadata, uploaded code and generated sbatch files>

account: llmservice_nemo_speechlm
partition: batch_block1,batch_block3,batch_block4
cpu_partition: cpu
job_name_prefix: ""

containers:
  trtllm: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-trtllm-0.7.0.sqsh
  vllm: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-vllm-0.7.0.sqsh
  sglang: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-sglang-0.7.0.sqsh
  nemo: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-nemo-0.7.0.sqsh
  nemo-rl: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-nemo-rl-0.7.0.sqsh
  megatron: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-megatron-0.7.0.sqsh
  sandbox: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-sandbox-0.7.1.sqsh
  nemo-skills: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-0.7.0.sqsh
  verl: /lustre/fsw/portfolios/llmservice/users/igitman/llm/images/nemo-skills-verl-0.7.0.sqsh

mounts:
  - /lustre:/lustre

required_env_vars:
  - NV_INFERENCE_KEY

env_vars:
  # ------------------------------- Fill this up! -------------------------------
  - HF_HOME=/lustre/fsw/portfolios/llmservice/users/???/.cache/huggingface
  # -----------------------------------------------------------------------------

timeouts:
  batch_block1,batch_block3,batch_block4: 04:00:00
  interactive: 04:00:00
  interactive_singlenode: 04:00:00
  cpu: 04:00:00

mail_type: FAIL
mail_user: # <your email goes here>
