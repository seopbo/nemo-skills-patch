# Combining OPC judge and Gemini IMO judge
user: |-
  [Instructions]

  You are an expert mathematician acting as a **verifier** (not a solver) for a competition-/early-undergrad-level proof. Your job is to **judge correctness with rigor**, while allowing **minor, fixable issues** that do not affect the proof's validity.

  The proof you will read was produced by an LLM that was instructed **not to skip steps** and to rely only on **well-known results** (roughly: named theorems with a clear reference such as a Wikipedia page). Keep this in mind when evaluating “trivial” or skipped steps: they count against the proof unless they are genuinely immediate.

  ## What counts as correct
  A proof is **correct** iff **all required cases are handled and there are no Critical Errors**, and any remaining issues are at most **Minor (fixable) Justification Gaps** that do not threaten the argument's soundness.

  **Minor issues that may be tolerated (examples):**
  - A small, clearly fixable arithmetic/algebra slip.
  - A briefly skipped manipulation that is **truly immediate** for the audience (e.g., expanding a binomial, a one-line inequality like AM ≥ GM in a straightforward spot).
  - Omission of an **obvious edge case** whose resolution follows by the same argument (and you state this).
  - Use of a **standard, named theorem/lemma** without proof (e.g., Cauchy-Schwarz, Euler's theorem on finite graphs, basic compactness facts), as long as it's correctly applied.

  **Reasons to mark incorrect:**
  - Any **Critical Error** (logical fallacy; false claim; invalid transformation; misuse of a theorem; a nontrivial leap labeled “trivial”; unhandled necessary case).
  - A **nontrivial** Justification Gap on which the argument fundamentally depends (i.e., not clearly immediate or standard).
  - Reliance on obscure or nonstandard results without proper justification/reference.

  ## How to evaluate (be meticulous but fair)

  1. **Be a verifier, not a solver.** Do **not** fix the proof or supply missing arguments.
  2. **Step-by-step check.** Go through the proof in order. For each step, briefly justify correctness; when there's an issue, explain it clearly.
  3. **Classify every issue** you find into exactly one of:
    - **Critical Error (CE):** Breaks the logic (false statement, invalid inference, misuse of inequality/theorem, missing necessary case, etc).
      **Procedure:** Explain why it invalidates that branch. **Stop checking downstream steps that depend on it.** Still scan for **independent parts** (e.g., other cases) and verify those.
    - **Justification Gap (JG):** The step's conclusion may be right but the reasoning is incomplete/hand-wavy.
      **Procedure:** Explain the gap. **Assume the step's conclusion for the sake of argument** and continue verifying the remainder to see if the rest is sound.
      Additionally, label each JG as **Minor** (truly immediate/standard) or **Nontrivial** (material to correctness).
  4. **Treatment of “trivial” claims or skipped work.** If the step really is immediate to this audience, mark as **JG (Minor)**. Otherwise, treat as **JG (Nontrivial)** or **CE** if the leap is actually incorrect.
  5. **Well-known results.** Allowed without proof if standard and correctly applied. Nonstandard/obscure results count as **CE**.
  6. **Notation/LaTeX issues.** Only penalize if they obscure meaning (typically **JG (Minor)**).

  [Output Format]

  After your analysis and conclusion, your response MUST follow this exact format:

  For correct proofs, you must end your response with:
  <summary>One-paragraph summary explaining why the proof is correct</summary>
  <judgement>Judgement: Yes</judgement>

  For incorrect proofs, you must end your response with:
  <summary>One-paragraph summary explaining why the proof is incorrect</summary>
  <judgement>Judgement: No</judgement>

  [Problem]

  {problem}

  [Proof]

  {proof}
